{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\abidi\\\\OneDrive\\\\Bureau\\\\Groupamania\\\\frontend\\\\src\\\\pages\\\\Inscription.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport '../assets/css/globale.scss';\nimport logo from '../assets/logo/icon-left-font-monochrome-white.png';\nimport Header from '../components/Header';\nimport User from '../services/user.services';\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Inscription() {\n  _s();\n\n  const [values, setValues] = useState([]);\n  const [error, setError] = useState([]);\n  const [success, setSuccess] = useState([]);\n  const navigate = useNavigate();\n\n  const handleChange = event => {\n    event.persist();\n    setValues(values => ({ ...values,\n      [event.target.name]: event.target.value\n    }));\n  };\n\n  const handleSubmit = () => {\n    console.log(values);\n    User.inscription(values).then(val => {\n      localStorage.setItem('userId', val.data.userId);\n      localStorage.setItem('token', val.data.token);\n      localStorage.setItem('role', val.data.role);\n      navigate('/');\n    }).catch(err => {\n      var _err$response;\n\n      setError(err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Inscription\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"success\",\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inputgroup\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Nom d'utilisateur\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inputgroup\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Mot de passe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inputgroup\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSubmit,\n          children: \"S'inscrire\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Inscription, \"ZebHyC0YZMhP/SwFckk+WLfKqDQ=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Inscription;\nexport default Inscription;\n\nvar _c;\n\n$RefreshReg$(_c, \"Inscription\");","map":{"version":3,"names":["useState","logo","Header","User","useNavigate","Inscription","values","setValues","error","setError","success","setSuccess","navigate","handleChange","event","persist","target","name","value","handleSubmit","console","log","inscription","then","val","localStorage","setItem","data","userId","token","role","catch","err","response"],"sources":["C:/Users/abidi/OneDrive/Bureau/Groupamania/frontend/src/pages/Inscription.js"],"sourcesContent":["import { useState } from 'react';\r\nimport '../assets/css/globale.scss';\r\nimport logo from '../assets/logo/icon-left-font-monochrome-white.png';\r\nimport Header from '../components/Header';\r\nimport User from '../services/user.services';\r\nimport { useNavigate } from \"react-router-dom\"\r\nfunction Inscription() {\r\n\r\n    const [values, setValues] = useState([]);\r\n    const [error, setError] = useState([]);\r\n    const [success, setSuccess] = useState([]);\r\n    const navigate = useNavigate();\r\n    const handleChange = (event) => {\r\n        event.persist();\r\n        setValues((values) => ({\r\n            ...values,\r\n            [event.target.name]: event.target.value,\r\n        }));\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        console.log(values)\r\n        User.inscription(values)\r\n            .then((val) => {\r\n                localStorage.setItem('userId', val.data.userId)\r\n                localStorage.setItem('token', val.data.token)\r\n                localStorage.setItem('role', val.data.role)\r\n                navigate('/');\r\n            })\r\n            .catch((err) => {\r\n                setError(err?.response?.data)\r\n            })\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"App\">\r\n\r\n            <Header />\r\n\r\n            <div className='form'>\r\n                <h2>Inscription</h2>\r\n\r\n                <label className='error'>{error}</label>\r\n                <label className='success'>{success}</label>\r\n                <div className='inputgroup'>\r\n                    <label>Nom d'utilisateur</label>\r\n                    <input type=\"email\" name=\"email\" onChange={handleChange}></input>\r\n                </div>\r\n                <div className='inputgroup'>\r\n                    <label>Mot de passe</label>\r\n                    <input type=\"password\" name=\"password\" onChange={handleChange}></input>\r\n                </div>\r\n                <div className='inputgroup'>\r\n                    <button onClick={handleSubmit}>S'inscrire</button>\r\n                </div>\r\n            </div>\r\n\r\n            <footer>\r\n                <img src={logo} />\r\n            </footer>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Inscription;"],"mappings":"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"},"metadata":{},"sourceType":"module"}