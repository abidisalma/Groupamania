{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\abidi\\\\OneDrive\\\\Bureau\\\\Groupamania\\\\frontend\\\\src\\\\pages\\\\DetailsPost.js\",\n    _s = $RefreshSig$();\n\nimport { faThumbsDown, faThumbsUp } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport logo from '../assets/logo/icon-left-font-monochrome-white.png';\nimport Header from '../components/Header';\nimport Post from '../services/post.services';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction DetailsPost() {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const [post, setPost] = useState([]);\n  let count = 0;\n  const navigate = useNavigate();\n  useEffect(() => {\n    Post.getOne(id).then(response => {\n      setPost(response.data);\n      console.log(response.data);\n    }).catch();\n  }, [count]);\n\n  const deletePost = id => {\n    Post.deletepost(id).then(val => {\n      navigate('/');\n    }).catch(err => {\n      var _err$response;\n\n      console.log(err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"postFlex\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"images\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: post === null || post === void 0 ? void 0 : post.imageUrl,\n          className: \"img\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"detail\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: post === null || post === void 0 ? void 0 : post.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: post === null || post === void 0 ? void 0 : post.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"socia\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"like\",\n            children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faThumbsUp\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 38\n            }, this), \" \", post === null || post === void 0 ? void 0 : post.likes, \" like\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"dislike\",\n            children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faThumbsDown\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 41\n            }, this), \" \", post === null || post === void 0 ? void 0 : post.dislikes, \" dislike\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btn\",\n          children: [localStorage.getItem('role') === \"admin\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"action\",\n              onClick: () => deletePost(post === null || post === void 0 ? void 0 : post._id),\n              children: \"Supprimer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"action green\",\n              onClick: () => navigate('/posts/update/' + (post === null || post === void 0 ? void 0 : post._id)),\n              children: \"Modifier\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: localStorage.getItem('userId') === (post === null || post === void 0 ? void 0 : post.userId) ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"action\",\n                onClick: () => deletePost(post === null || post === void 0 ? void 0 : post._id),\n                children: \"Supprimer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"action green\",\n                onClick: () => navigate('/posts/update/' + (post === null || post === void 0 ? void 0 : post._id)),\n                children: \"Modifier\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : ''\n          }, void 0, false), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"action green\",\n            onClick: () => navigate('/'),\n            children: \"Retour\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DetailsPost, \"M1r9+OtNhKIatMtIVsSAzh4X2XA=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = DetailsPost;\nexport default DetailsPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"DetailsPost\");","map":{"version":3,"names":["faThumbsDown","faThumbsUp","FontAwesomeIcon","useEffect","useState","useNavigate","useParams","logo","Header","Post","DetailsPost","id","post","setPost","count","navigate","getOne","then","response","data","console","log","catch","deletePost","deletepost","val","err","imageUrl","title","description","likes","dislikes","localStorage","getItem","_id","userId"],"sources":["C:/Users/abidi/OneDrive/Bureau/Groupamania/frontend/src/pages/DetailsPost.js"],"sourcesContent":["import { faThumbsDown, faThumbsUp } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { useEffect, useState } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport logo from '../assets/logo/icon-left-font-monochrome-white.png';\r\nimport Header from '../components/Header';\r\nimport Post from '../services/post.services';\r\n\r\nfunction DetailsPost() {\r\n\r\n  const { id } = useParams();\r\n  const [post, setPost] = useState([]);\r\n  let count = 0;\r\n  const navigate = useNavigate();\r\n  useEffect(() => {\r\n    Post.getOne(id)\r\n      .then((response) => {\r\n        setPost(response.data)\r\n        console.log(response.data)\r\n      })\r\n      .catch()\r\n  }, [count]);\r\n\r\n\r\n  const deletePost = (id) => {\r\n\r\n    Post.deletepost(id)\r\n      .then((val) => {\r\n        navigate('/');\r\n      })\r\n      .catch((err) => {\r\n        console.log(err?.response?.data)\r\n      })\r\n\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n\r\n      <Header />\r\n\r\n      <div className='postFlex'>\r\n        <div className='images'><img src={post?.imageUrl} className=\"img\" /></div>\r\n        <div className='detail'>\r\n          <h2>{post?.title}</h2>\r\n          <p>{post?.description}</p>\r\n          <div className='socia'>\r\n            <button className='like'><FontAwesomeIcon icon={faThumbsUp} /> {post?.likes} like</button>\r\n            <button className='dislike'><FontAwesomeIcon icon={faThumbsDown} /> {post?.dislikes} dislike</button>\r\n          </div>\r\n          <div className='btn'>\r\n            {localStorage.getItem('role') === \"admin\" ? (\r\n              <>\r\n                <button className='action' onClick={() => deletePost(post?._id)}>Supprimer</button>\r\n                <button className='action green' onClick={() => navigate('/posts/update/' + post?._id)}>Modifier</button>\r\n\r\n              </>\r\n            ) : (\r\n              <>\r\n                {localStorage.getItem('userId') === post?.userId ? (<>\r\n                  <button className='action' onClick={() => deletePost(post?._id)}>Supprimer</button>\r\n                  <button className='action green' onClick={() => navigate('/posts/update/' + post?._id)}>Modifier</button>\r\n                </>\r\n                ) : ''}\r\n              </>\r\n            )}\r\n            <button className='action green' onClick={() => navigate('/')}>Retour</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <footer>\r\n        <img src={logo} />\r\n      </footer>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DetailsPost;"],"mappings":"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"},"metadata":{},"sourceType":"module"}